<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ECE 3400: Physical Intelligent Systems by cz236</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Lab 3</h1>
      <h2 class="project-tagline">Filtering and FFT</h2>
      <a href="https://github.coecis.cornell.edu/cz236/cz236.github.io" class="btn">View on GitHub</a>
      <a href="https://pages.github.coecis.cornell.edu/cz236/cz236.github.io" class="btn">Home</a>
      <a href="https://pages.github.coecis.cornell.edu/cz236/cz236.github.io/Lab1" class="btn">Lab 1</a>
      <a href="https://pages.github.coecis.cornell.edu/cz236/cz236.github.io/Lab3" class="btn">Lab 2</a>
      <a href="https://pages.github.coecis.cornell.edu/cz236/cz236.github.io/Lab4" class="btn">Lab 4</a>
    </section>
    
    
     <section class="main-content">
      <h2>
<a id="Objectives" class="anchor" href="#Objectives" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Objectives:</h2>
<ul>
<li>Learn Some LTSpice Basics: simulate lowpass, highpass and bandpass passive filters.</li>
<li>Build the basic microphone circuit and test it with MATLAB and the Nano.</li>
<li>Build the amplifier microphone circuit and test it with MATLAB and the Nano.</li>
<li>Implement a filter, characterize it and compare its frequency response to our simulation result.</li>
<li>Test the amplified microphone circuit only on the Nano (FFT on the Nano).</li>
<li>Characterize our circuit and adapt the code for the Final Demo.</li>
</ul>
      
       
<h2>
<a id="Materials" class="anchor" href="#Materials" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Materials:</h2>
    <ul>
<li>Robot</li>
<li>Capacitors and resistors for amplifier and filter</li>
<li>Jumper wires</li>
<li>1 x 9V battery and snap connector</li>
<li>1 x LM358 op-amp</li>
<li>lab computer with speakers</li>
</ul>
       
       
       <h2>
<a id="Procedure" class="anchor" href="#Procedure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Procedure:</h2>
      <h3>
<a id="1." class="anchor" href="#1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1. Learn Some LTSpice Basics</h3>
      <p>In order to simulate the behavior of filters, we used LTSpice.</p>
      <p>The low pass RC circuit with R=1.2kΩ and C=0.1μF and its simulation: </p>
      <img src="images/lab3a.jpg" alt="lab3a" width="800" height="400">
       
      <p>The high pass RC circuit with R=1.2kΩ and C=0.1μF and its simulation: </p>
      <img src="images/lab3b.jpg" alt="lab3b" width="800" height="400">
       
       <h3>
<a id="2." class="anchor" href="#2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. Build and Test the Microphone Circuit</h3>
       <p>We built a basic microphone circuit on our robot based on the graph below.</p> 
       <img src="images/lab3j.jpg" alt="lab3j" width="800" height="400">
       <p>We also wrote Arduino code to do ADC on sound picked up by the microphone and use MATLAB code to collect and analyze the data generated by the Arduino and visualize what is going on.</p>
       <p>Below is the graph output by MATLAB that shows in the top part the time domain signal, and the spectrum of the 500Hz signal in the bottom.</p>
       <img src="images/lab3c.jpg" alt="lab3c" width="800" height="400">
       <p>As observed, the spectrum’s value at the frequency of 500 Hz is relatively weak because our microphone is not really good at picking up sounds. So we then improve the microphone circuit by adding an amplifier</p>
       <img src="images/lab3k.jpg" alt="lab3k" width="800" height="400">
       <p>With this new circuit implemented, we got the better output graph:</p>
       <img src="images/lab3d.jpg" alt="lab3d" width="800" height="400">
